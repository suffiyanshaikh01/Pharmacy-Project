package com.authorizationService.demo.controller;


import static org.mockito.Mockito.when;

import org.junit.jupiter.api.Test;
import org.mockito.InjectMocks;
import org.mockito.Mock;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.security.authentication.AuthenticationManager;
import org.springframework.security.core.userdetails.UserDetails;
import org.springframework.security.core.userdetails.UserDetailsService;

import com.authorizationService.demo.jwt.JwtRequest;
import com.authorizationService.demo.jwt.JwtUtil;

import lombok.extern.slf4j.Slf4j;

//@RunWith(SpringRunner.class)
@SpringBootTest
@Slf4j
//@AutoConfigureMockMvc
class UserControllerTest {

	@InjectMocks
	UserController userController;
	@Mock
	AuthenticationManager authentication;
	@Mock
	UserDetailsService userDetailsService;
	@Mock
	JwtUtil jwtTokenUtil;
	
	@Test
	public void testCreateAuthenticationToken() throws Exception {
		JwtRequest authenticationRequest = new JwtRequest("Sufiyan","1234");
		UserDetails userDetails;
		when(userDetailsService.loadUserByUsername(authenticationRequest.getUsername()))
				.thenReturn(value)
		userController.createAuthenticationToken(authenticationRequest);
	}
	 
}
